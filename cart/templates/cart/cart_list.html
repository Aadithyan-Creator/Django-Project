{% if items %}
<div class="container mt-4">
  <h2 class="mb-4 text-center">Your Cart</h2>

  <table class="table table-hover table-bordered shadow-sm text-center align-middle">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Product</th>
        <th>Quantity</th>
        <th>Price (₹)</th>
        <th>Total (₹)</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for item in items %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ item.product.name }}</td>
        <td>{{ item.quantity }}</td>
        <td>₹{{ item.price|floatformat:2 }}</td>
        <td>₹{{ item.final_price|floatformat:2 }}</td>
        <td>
          <a href="{% url 'cart_update' item.id %}" class="btn btn-sm btn-primary">Edit</a>
          <a href="{% url 'cart_delete' item.id %}" class="btn btn-sm btn-danger">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="d-flex justify-content-between align-items-center mt-4 p-3 bg-light border rounded shadow-sm">
    <h5>Total: ₹{{ total|floatformat:2 }}</h5>
    <a href="{% url 'checkout_page' %}" class="btn btn-success btn-lg">Proceed to Checkout</a>
  </div>
</div>

{% else %}
<div class="container mt-5 text-center text-muted">
  <h4>Your cart is empty</h4>
  <p>Add some products to see them here.</p>
  <a href="{% url 'all_products' %}" class="btn btn-primary">Shop Now</a>
</div>
{% endif %}
